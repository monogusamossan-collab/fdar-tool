<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FDARã‚³ãƒ”ãƒšãƒ„ãƒ¼ãƒ«ï¼ˆéŸ³å£°å¯¾å¿œï¼‰</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #111;
  color: #fff;
  margin: 16px;
}

h1 {
  font-size: 22px;
  margin-bottom: 12px;
}

label {
  display: block;
  margin-top: 12px;
  font-weight: bold;
}

input, textarea {
  width: 100%;
  background: #222;
  color: #fff;
  border: 1px solid #444;
  border-radius: 8px;
  padding: 8px;
  font-size: 16px;
}

textarea {
  min-height: 80px;
}

button {
  margin-top: 10px;
  padding: 10px 14px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
}

.primary {
  background: #0a84ff;
  color: #fff;
}

.secondary {
  background: #333;
  color: #fff;
}

#output {
  margin-top: 16px;
  white-space: pre-wrap;
  border: 1px dashed #555;
  padding: 10px;
}
</style>
</head>

<body>

<h1>FDARã‚³ãƒ”ãƒšãƒ„ãƒ¼ãƒ«ï¼ˆéŸ³å£°å¯¾å¿œï¼‰</h1>

<label>åˆ©ç”¨è€…å</label>
<input id="name">

<label>æ—¥ä»˜</label>
<input id="date">

<label>Fï¼ˆè¨´ãˆãƒ»çŠ¶æ³ï¼‰</label>
<textarea id="f"></textarea>
<button onclick="voice('f')">ğŸ¤ éŸ³å£°å…¥åŠ›</button>

<label>Dï¼ˆè©•ä¾¡ãƒ»æ‰€è¦‹ï¼‰</label>
<textarea id="d"></textarea>
<button onclick="voice('d')">ğŸ¤ éŸ³å£°å…¥åŠ›</button>

<label>Aï¼ˆå¯¾å¿œãƒ»ä»‹å…¥ï¼‰</label>
<textarea id="a"></textarea>
<button onclick="voice('a')">ğŸ¤ éŸ³å£°å…¥åŠ›</button>

<label>Rï¼ˆåå¿œãƒ»çµæœï¼‰</label>
<textarea id="r"></textarea>
<button onclick="voice('r')">ğŸ¤ éŸ³å£°å…¥åŠ›</button>

<br>

<button class="primary" onclick="make()">ä½œæˆ</button>
<button class="secondary" onclick="copy()">ã‚³ãƒ”ãƒ¼</button>
<button class="secondary" onclick="clearAll()">ã‚¯ãƒªã‚¢</button>

<div id="output"></div>

<script>
let rec;

function voice(id){
  if(!('webkitSpeechRecognition' in window)){
    alert("ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°å…¥åŠ›ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“");
    return;
  }

  rec = new webkitSpeechRecognition();
  rec.lang = "ja-JP";
  rec.continuous = false;
  rec.interimResults = false;

  rec.onresult = e => {
    document.getElementById(id).value += e.results[0][0].transcript;
  };

  rec.start();
}

function make(){
  const t =
`ã€åˆ©ç”¨è€…ã€‘${name.value}
ã€æ—¥ä»˜ã€‘${date.value}

Fï¼š${f.value}

Dï¼š${d.value}

Aï¼š${a.value}

Rï¼š${r.value}`;

  output.textContent = t;
}

function copy(){
  navigator.clipboard.writeText(output.textContent);
  alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ");
}

function clearAll(){
  name.value="";
  date.value="";
  f.value="";
  d.value="";
  a.value="";
  r.value="";
  output.textContent="";
}
</script>

</body>
</html>
